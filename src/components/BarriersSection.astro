---
import AnimatedSection from './AnimatedSection.astro';
import StatCard from './StatCard.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const stats = [
	{
		icon: '/icons/Vector-1.svg',
		number: t('barriers.stat1.number'),
		description: t('barriers.stat1.description'),
		bgColor: 'bg-pink',
		delay: 100,
	},
	{
		icon: '/icons/Vector-2.svg',
		number: t('barriers.stat2.number'),
		description: t('barriers.stat2.description'),
		bgColor: 'bg-gray-light',
		delay: 200,
	},
	{
		icon: '/icons/Vector-3.svg',
		number: t('barriers.stat3.number'),
		description: t('barriers.stat3.description'),
		bgColor: 'bg-gray-light',
		delay: 300,
	},
	{
		icon: '/icons/Vector-4.svg',
		number: t('barriers.stat4.number'),
		description: t('barriers.stat4.description'),
		bgColor: 'bg-gray-light',
		delay: 400,
	},
];
---

<section class="py-16 md:py-24 bg-white">
	<div class="max-w-7xl mx-auto px-4 md:px-16">
		<!-- Header -->
		<AnimatedSection>
			<div class="mb-16 max-w-3xl">
				<h2 class="text-4xl md:text-[36px] font-bold text-black mb-8 leading-tight">
					{t('barriers.title')}
				</h2>
				<p class="text-lg md:text-lg text-black/55 leading-relaxed font-medium max-w-[750px]">
					{t('barriers.description')}
				</p>
			</div>
		</AnimatedSection>
		
		<!-- Statistics Grid -->
		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-6">
			{stats.map((stat) => (
				<StatCard
					icon={stat.icon}
					number={stat.number}
					description={stat.description}
					bgColor={stat.bgColor}
					delay={stat.delay}
				/>
			))}
		</div>
		
		<!-- Source -->
		<div class="flex gap-2 items-center text-base font-medium">
			<span class="text-black/55">{t('barriers.source')}</span>
			<a href="https://www.aspansor.com" class="text-pink hover:underline">{t('barriers.source.link')}</a>
		</div>
	</div>
</section>
